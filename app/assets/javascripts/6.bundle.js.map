{"version":3,"sources":["./frontend/components/artist_show/album_li.jsx","./frontend/components/artist_show/show.jsx","./frontend/components/artist_show/show_container.js","./frontend/components/artist_show/track_li.jsx","./node_modules/react-fade-in/lib/FadeIn.js","./node_modules/react-fade-in/lib/index.js"],"names":["ArtistAlbumLi","props","album","image_url","title","id","date","year","split","ArtistShow","state","done","openModal","bind","clearArtists","fetchArtist","match","params","artistId","then","setState","prevProps","e","target","src","defaultImage","currentArtist","undefined","albums","tracks","name","description","banner_image_url","bannerImage","heroStyle","backgroundImage","descParagraphs","map","paragraph","i","trackLis","track","albumLis","handleImageError","loggedIn","length","React","Component","mapStateToProps","ownProps","Boolean","session","entities","artists","mapDispatchToProps","dispatch","modal","withRouter","connect","ArtistTrackLi"],"mappings":"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","file":"6.bundle.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ArtistAlbumLi = props => {\n  const { image_url, title, id, date } = props.album;\n  let year;\n  if (date) year = date.split(\"-\")[0];\n\n  return (\n    <li className=\"artist-album-li\">\n      <Link to={`/albums/${id}`}>\n        <div className=\"artist-album-li-image-container\">\n          <div className=\"content\">\n            <img src={image_url || null} alt=\"\"/>\n          </div>\n        </div>\n        <h3>{title}</h3>\n        { year && <span>{year}</span> }\n      </Link>\n    </li>\n  )\n};\n\nexport default ArtistAlbumLi;","import React from 'react';\nimport { FadeIn } from 'react-fade-in';\nimport ReactLoading from \"react-loading\";\nimport ArtistTrackLi from './track_li';\nimport ArtistAlbumLi from './album_li';\nimport defaultImage from 'assets/images/no_image.png';\n\nclass ArtistShow extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { done: false };\n    this.openModal = this.openModal.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.clearArtists();\n    this.props.fetchArtist(this.props.match.params.artistId).then(\n      () => this.setState({ done: true }),\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.match.params.artistId !== prevProps.match.params.artistId) {\n      this.props.clearArtists();\n      this.props.fetchArtist(this.props.match.params.artistId).then(\n        () => this.setState({ done: true }),\n      );\n    };\n  }\n\n  handleImageError(e) {\n    e.target.src = defaultImage;\n  }\n\n  openModal() {\n    this.props.openModal('artistEdit');\n  }\n\n  render() {\n    if (!this.state.done) {\n      return <ReactLoading type={\"bars\"} color={\"white\"} />;\n    } else if (this.props.currentArtist === undefined) {\n      return <div className=\"no-tracks-shown\"><h2>Error!</h2><p>The artist you are looking for does not exist!</p></div>\n    };\n\n    const { albums, tracks, name, description, image_url, banner_image_url } = this.props.currentArtist;\n\n    let bannerImage;\n    if (banner_image_url) {\n      bannerImage = banner_image_url;\n    } else if (image_url) {\n      bannerImage = image_url;\n    }\n\n    const heroStyle = {\n      backgroundImage: \"linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))\" + (bannerImage ? `,url(${bannerImage})` : \"\")\n    };\n\n    let descParagraphs\n    if (description) descParagraphs = description.split(/\\r?\\n/).map((paragraph, i) => {\n      return <p key={500+i}>{paragraph}</p>\n    });\n\n    const trackLis = tracks.map(track => <ArtistTrackLi track={track} key={track.id}/>);\n    const albumLis = albums.map(album => <ArtistAlbumLi album={album} key={album.id}/>);\n\n    return(\n      <section className=\"artist-show-page\">\n        <header className=\"artist-show-header\" id=\"artist-hero-image\" style={heroStyle}>\n          <div id=\"artist-show-header-center\">\n            <div>\n              <div className=\"artist-show-image-container\">\n                <img id=\"artist-show-image\" onError={this.handleImageError} src={`${image_url || defaultImage}`} />\n              </div>\n            </div>\n          </div>\n        </header>\n        <main className=\"artist-show-main\">\n          <div className=\"artist-show-column-first\">\n            <div className=\"artist-show-main-info\">\n              <h1>{name}</h1>\n              { this.props.loggedIn && <button onClick={this.openModal} className='artist-edit-button'>Edit Artist</button> }\n            </div>\n            <div className=\"artist-show-about\">\n              <h3>{`About \"${name}\"`}</h3>\n              {descParagraphs}\n            </div>\n          </div>\n          <div className=\"artist-show-column-second\">\n            <div className=\"artist-show-tracks\">\n              <h3>{name} Songs</h3>\n              <ul className=\"artist-show-track-panel\">\n                {trackLis}\n              </ul>\n            </div>\n            { albums && albums.length > 0 && \n              <div className=\"artist-show-albums\">\n                <h3>{name} Albums</h3>\n                <ul className=\"artist-show-album-panel\">\n                  {albumLis}\n                </ul>\n              </div> \n            }\n          </div>\n        </main>\n      </section>\n    );\n  }\n}\n\nexport default ArtistShow;","import { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport ArtistShow from './show';\nimport { clearArtists, fetchArtist } from '../../actions/artist_actions';\nimport { openModal } from '../../actions/modal_actions';\n\nconst mapStateToProps = (state, ownProps) => ({\n  loggedIn: Boolean(state.session.id),\n  currentArtist: state.entities.artists[ownProps.match.params.artistId]\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchArtist: id => dispatch(fetchArtist(id)),\n  clearArtists: () => dispatch(clearArtists()),\n  openModal: modal => dispatch(openModal(modal))\n});\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ArtistShow));","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ArtistTrackLi = props => {\n  return (\n    <li className=\"artist-track-li\">\n      <Link to={`/tracks/${props.track.id}`}>\n        <img className=\"artist-track-panel-image\" src={props.track.image_url}/>\n        <span>{props.track.name}</span>\n      </Link>\n    </li>\n  )\n};\n\nexport default ArtistTrackLi;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FadeIn = function (_Component) {\n  _inherits(FadeIn, _Component);\n\n  function FadeIn() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, FadeIn);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = FadeIn.__proto__ || Object.getPrototypeOf(FadeIn)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      maxIsVisible: 0\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(FadeIn, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var count = _react2.default.Children.count(this.props.children);\n      var i = 0;\n      this.interval = setInterval(function () {\n        i++;\n        if (i > count) clearInterval(_this2.interval);\n\n        _this2.setState({ maxIsVisible: i });\n      }, this.delay);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var transitionDuration = this.transitionDuration;\n      return _react2.default.createElement(\n        \"div\",\n        null,\n        _react2.default.Children.map(this.props.children, function (child, i) {\n          return _react2.default.createElement(\n            \"div\",\n            {\n              style: {\n                transition: \"opacity \" + transitionDuration + \"ms, top \" + transitionDuration + \"ms\",\n                position: \"relative\",\n                top: _this3.state.maxIsVisible > i ? 0 : 20,\n                opacity: _this3.state.maxIsVisible > i ? 1 : 0\n              }\n            },\n            child\n          );\n        })\n      );\n    }\n  }, {\n    key: \"delay\",\n    get: function get() {\n      return this.props.delay || 50;\n    }\n  }, {\n    key: \"transitionDuration\",\n    get: function get() {\n      return this.props.transitionDuration || 400;\n    }\n  }]);\n\n  return FadeIn;\n}(_react.Component);\n\nexports.default = FadeIn;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FadeIn = require('./FadeIn');\n\nObject.defineProperty(exports, 'default', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_FadeIn).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }"],"sourceRoot":""}