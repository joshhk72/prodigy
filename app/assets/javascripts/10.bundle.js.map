{"version":3,"sources":["./frontend/components/session_form/session_form.js","./frontend/components/session_form/signup_form_container.js"],"names":["SessionForm","props","state","username","password","email","handleSubmit","bind","demoLogin","document","body","classList","add","resetSessionErrors","remove","e","preventDefault","user","submitForm","then","history","goBack","Object","assign","field","setState","target","value","formType","linkText","headText","buttonText","altLinkUrl","altText","errorLis","errors","map","error","i","length","update","React","Component","mapStateToProps","session","mapDispatchToProps","dispatch","signup","withRouter","connect"],"mappings":"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","file":"10.bundle.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { BrowserHistory } from 'react-router-dom';\n\nclass SessionForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      email: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.demoLogin = this.demoLogin.bind(this);\n  }\n\n  componentDidMount() {\n    document.body.classList.add(\"dark-body\");\n    this.props.resetSessionErrors();\n  }\n\n  componentWillUnmount() {\n    document.body.classList.remove(\"dark-body\");\n    this.props.resetSessionErrors();\n  }\n\n  demoLogin(e) {\n    e.preventDefault();\n    const user = { username: \"user1\", password: \"555555\" }\n    this.props.submitForm(user)\n      .then(() => this.props.history.goBack());\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = Object.assign({}, this.state);\n    this.props.submitForm(user)\n      .then(() => this.props.history.goBack());\n  }\n\n  update(field) {\n    return (e) => {\n      this.setState({\n        [field]: e.target.value\n      })\n    }\n  }\n\n  render() {\n    const [ linkText, headText, buttonText, altLinkUrl, altText ] \n      = this.props.formType === \"login\" ? \n      [ \"Sign up here.\", \"Sign In\", \"Login\", \"/signup\", \"Don't\" ] : \n      [ \"Sign in here.\", \"Sign Up\", \"Create Account\", \"/login\", \"Already\" ];\n      \n\n    const errorLis = this.props.errors.map((error, i) => {\n      return (\n        <li key={i}>{error}</li>\n      )\n    });\n\n    return (\n      <div className='session-form-container'>\n        <h2>{headText}</h2>\n        <form onSubmit={this.handleSubmit} className='session-form'>\n          {this.props.errors.length > 0 &&\n            <div className=\"session-error-list-container\">\n              <h3>Whoops</h3>\n              <p>There must be some mistake</p>\n              <ul className=\"session-error-list\">\n                {errorLis}\n              </ul>\n            </div>\n          }\n          <label>\n            Genius Username\n              <input type=\"text\" value={this.state.username} onChange={this.update(\"username\")} />\n          </label>\n          {this.props.formType === 'signup' &&\n            <label> Email\n              <input type=\"text\" value={this.state.email} onChange={this.update(\"email\")} />\n            </label>\n          }\n          <label>\n            Password\n              <input type=\"password\" value={this.state.password} onChange={this.update(\"password\")} />\n          </label>\n          <button>{buttonText}</button>\n        </form>\n        <div id=\"alternative\">\n          <span>{altText} have an account? </span>\n          <Link to={altLinkUrl}>{linkText}</Link>\n          <br></br>\n          {this.props.formType === \"login\" && <a className=\"demo\" onClick={this.demoLogin}>Use a Demo Account Instead</a>}\n        </div>\n      </div>)\n  }\n}\n\nexport default SessionForm;","import { connect } from 'react-redux'\nimport SessionForm from './session_form';\nimport { signup, resetSessionErrors } from '../../actions/session_actions';\nimport { withRouter } from 'react-router-dom';\n\nconst mapStateToProps = state => ({\n  errors: state.errors.session,\n  formType: 'signup'\n});\n\nconst mapDispatchToProps = dispatch => ({\n  submitForm: user => dispatch(signup(user)),\n  resetSessionErrors: () => dispatch(resetSessionErrors())\n});\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SessionForm));"],"sourceRoot":""}