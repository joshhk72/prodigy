{"version":3,"sources":["./frontend/components/session_form/login_form_container.js","./frontend/components/session_form/session_form.js"],"names":["mapStateToProps","state","errors","session","formType","mapDispatchToProps","dispatch","submitForm","user","login","resetSessionErrors","withRouter","connect","SessionForm","props","username","password","email","handleSubmit","bind","demoLogin","document","body","classList","add","remove","e","preventDefault","then","history","goBack","Object","assign","field","setState","target","value","linkText","headText","buttonText","altLinkUrl","altText","errorLis","map","error","i","length","update","React","Component"],"mappings":"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","file":"9.bundle.js","sourcesContent":["import { connect } from 'react-redux'\nimport SessionForm from './session_form';\nimport { login, resetSessionErrors } from '../../actions/session_actions';\nimport { withRouter } from 'react-router-dom';\n\nconst mapStateToProps = state => ({\n  errors: state.errors.session,\n  formType: 'login'\n});\n\nconst mapDispatchToProps = dispatch => ({\n  submitForm: user => dispatch(login(user)),\n  resetSessionErrors: () => dispatch(resetSessionErrors())\n});\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(SessionForm));","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { BrowserHistory } from 'react-router-dom';\n\nclass SessionForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      password: \"\",\n      email: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.demoLogin = this.demoLogin.bind(this);\n  }\n\n  componentDidMount() {\n    document.body.classList.add(\"dark-body\");\n    this.props.resetSessionErrors();\n  }\n\n  componentWillUnmount() {\n    document.body.classList.remove(\"dark-body\");\n    this.props.resetSessionErrors();\n  }\n\n  demoLogin(e) {\n    e.preventDefault();\n    const user = { username: \"user1\", password: \"555555\" }\n    this.props.submitForm(user)\n      .then(() => this.props.history.goBack());\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    const user = Object.assign({}, this.state);\n    this.props.submitForm(user)\n      .then(() => this.props.history.goBack());\n  }\n\n  update(field) {\n    return (e) => {\n      this.setState({\n        [field]: e.target.value\n      })\n    }\n  }\n\n  render() {\n    const [ linkText, headText, buttonText, altLinkUrl, altText ] \n      = this.props.formType === \"login\" ? \n      [ \"Sign up here.\", \"Sign In\", \"Login\", \"/signup\", \"Don't\" ] : \n      [ \"Sign in here.\", \"Sign Up\", \"Create Account\", \"/login\", \"Already\" ];\n      \n\n    const errorLis = this.props.errors.map((error, i) => {\n      return (\n        <li key={i}>{error}</li>\n      )\n    });\n\n    return (\n      <div className='session-form-container'>\n        <h2>{headText}</h2>\n        <form onSubmit={this.handleSubmit} className='session-form'>\n          {this.props.errors.length > 0 &&\n            <div className=\"session-error-list-container\">\n              <h3>Whoops</h3>\n              <p>There must be some mistake</p>\n              <ul className=\"session-error-list\">\n                {errorLis}\n              </ul>\n            </div>\n          }\n          <label>\n            Genius Username\n              <input type=\"text\" value={this.state.username} onChange={this.update(\"username\")} />\n          </label>\n          {this.props.formType === 'signup' &&\n            <label> Email\n              <input type=\"text\" value={this.state.email} onChange={this.update(\"email\")} />\n            </label>\n          }\n          <label>\n            Password\n              <input type=\"password\" value={this.state.password} onChange={this.update(\"password\")} />\n          </label>\n          <button>{buttonText}</button>\n        </form>\n        <div id=\"alternative\">\n          <span>{altText} have an account? </span>\n          <Link to={altLinkUrl}>{linkText}</Link>\n          <br></br>\n          {this.props.formType === \"login\" && <a className=\"demo\" onClick={this.demoLogin}>Use a Demo Account Instead</a>}\n        </div>\n      </div>)\n  }\n}\n\nexport default SessionForm;"],"sourceRoot":""}